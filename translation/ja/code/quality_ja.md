# コード品質

プロジェクトの品質は、当然のことながら、製品またはサービスのユーザーにとって重要である。

しかし、プロジェクトは最初は未熟で問題を抱えていることが*予想され*、最初から完璧であることを期待する者はいない。時間の経過とともに、設計とコードを改善し、反復していく。テストを追加し、より多くのツールを実行し、自動化されたシステムを構築していく。

最初からすべてを完璧にしようと、すべてのエネルギーを注ぎ込むことに意味はない。

プロジェクトが成熟するにつれて、堅牢なコードベースへと進化することが期待されるが、オープンソースは永遠であるため、これには決まったタイムラインはない。適切と思われるだけの時間を費やすことができる。コード品質が適切になるまで、超人気になって世界を制覇することはできないかもしれない。

## 優れたコード品質をどのように達成するか？

これに対する特効薬はなく、実際にはオープンソースの問題でもない。これは古くからのソフトウェアエンジニアリングの課題であり、これを達成するための手順は以下のとおりである。

1. 一貫したコードスタイル（ツールによる検証）
2. マージ前のヒューマンコードレビュー
3. テスト、テスト、テスト。
4. マージ前にすべてのテストを実行するCIシステム
5. マージされたコードのファジングと継続的テスト
6. バグレポートへの迅速な対応、バグ修正に伴う新しいテストの追加
7. バグ修正を受け入れる際の迅速かつ摩擦のない対応
8. バグ報奨金の実施
9. こまめなリリース
10. 継続的な取り組み

## コードカバレッジ

ある特定のコードカバレッジレベルを測定し、達成することが重要であると考えられている分野もあるが、それを軽視するつもりはない。優れたコードカバレッジを実現するようにコードとテストケースを記述できれば素晴らしいことである。しかし、コードカバレッジではコードパスの組み合わせを測定できないため、それほど大きな意味はなく、多くのバグが残る可能性がある。

私のプロジェクトでは、コードの複雑さ、移植性、コードの条件分岐などにより、意味のあるレベルでコードカバレッジを生成して測定することが非常に困難であったため、滅多に実施してこなかった。それでも、上記の基本原則に基づいて、かなり良いコードを作成することができたと考えている。
